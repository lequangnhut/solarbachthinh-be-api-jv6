<!-- Page Header Start -->
<div class="container-fluid page-header py-5 mb-5" xmlns:th="http://www.w3.org/1999/html" xmlns:th="http://www.w3.org/1999/html">
    <div class="container py-5">
        <h1 class="display-3 text-white mb-3 animated slideInDown">Sản Phẩm</h1>
        <nav aria-label="breadcrumb animated slideInDown">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a class="text-white" href="#!/trang-chu">Trang Chủ</a></li>
                <li class="breadcrumb-item"><a class="text-white" href="#!/san-pham">Sản Phẩm</a></li>
            </ol>
        </nav>
    </div>
</div>
<!-- Page Header End -->

<!-- Navbar Start -->
<section id="category-product">
    <div class="bg">
        <div class="container">
            <div class="row">
                <div class="col-12 col-md-12 col-xl-6 d-flex align-items-center">
                    <form ng-submit="searchProduct(productName)">
                        <div class="find d-flex align-items-center justify-content-center">
                            <input class="form-control" list="datalistOptionsProducts" id="" ng-model="productName" placeholder="Tìm sản phẩm">
                            <datalist id="datalistOptionsProducts">
                                <option ng-repeat="product in producsNameOptions" value="{{product}}">
                            </datalist>
                            <button type="submit" class="btn-find btn"><i class="bx bx-search-alt-2"></i></button>
                        </div>
                    </form>
                </div>
                <div class="col-xl-6 d-flex d-xs-none">
                    <div ng-repeat="category in categories" ng-if="category.isActive"
                         class="category-product d-flex justify-content-center align-items-center">
                        <div class="category-product-item">
                            <a href="#!/san-pham/loai-danh-muc?danh-muc={{category.id}}">
                                <div class="card-category text-center">
                                    <div class="img text-center">
                                        <img ng-src="/upload/{{category.categoryImage}}"
                                             class="card-img-top img-fluid" alt="...">
                                    </div>
                                    <div class="body">{{category.categoryName}}</div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Navbar End -->

<!-- Product Start -->
<div class="container-xxl py-5">
    <div class="container">
        <div class="product_template mt-4 mb-4 wow fadeInUp" data-wow-delay="fade-up"
             ng-repeat="category in categories" ng-if="category.isActive && category.productsTypeProducts.length != 0">

            <!-- Kiểm tra xem danh sách loại sản phẩm của danh mục có rỗng không -->
            <div class="title_cart d-flex align-items-center mb-3">
                <div class="title-card-box d-flex align-items-center h-100">
                    <div class="category_product">
                        <span ng-bind="category.categoryName"></span>
                    </div>
                    <label class="mx-3">
                        <select class="form-select" id="selectedCategory_products" ng-model="selectedProductTypeId" ng-change="onProductTypeChange(selectedProductTypeId, category)">
                            <option ng-value="">Tất cả</option>
                            <option ng-repeat="productType in category.productTypesById" ng-value="productType.id" ng-if="productType.productsById.length > 0">
                                {{productType.productTypeName}}
                            </option>
                        </select>
                    </label>
                </div>
                <div class="see_more">
                    <a class="see_more" href="#!/san-pham/loai-danh-muc?danh-muc={{category.id}}">Xem thêm...</a>
                </div>
            </div>
            <div class="slide_product">
                <!-- Swiper -->
                <div class="swiper" id="product_light" style="height: 100%;">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide" ng-repeat="product in category.productsTypeProducts">
                            <div class="item">
                                <div class="item-product d-flex align-items-center">
                                    <div class="img">
                                        <img ng-src="{{product.productImagesById.length > 0 ? '/upload/' + product.productImagesById[0].imagePath : '/upload/default-img.jpg'}}"
                                             class="img-fluid" style="width: 200px" alt="..." src="">
                                    </div>
                                    <div class="card-body-product">
                                        <p class="name-product" ng-bind="product.productName"></p>
                                        <div class="content-product mb-3">
                                            <span>Công suất: <b ng-bind="product.powers"></b></span>
                                            <span>Hãng:
                                            <b ng-bind="product.BrandName"></b>
                                        </span>
                                        </div>
                                        <div class="btn-add-cart">
                                            <a href="#!/san-pham/loai-danh-muc/san-pham-chi-tiet?ma-san-pham={{product.id}}"
                                               role="button" class="btn btn-primary w-100">Xem chi tiết</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Product End -->